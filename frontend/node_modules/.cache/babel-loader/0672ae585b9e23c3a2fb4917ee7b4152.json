{"ast":null,"code":"var _jsxFileName = \"E:\\\\Laksura_Project\\\\frontend\\\\src\\\\screens\\\\OrderScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Button, Row, Col, ListGroup, Image, Card } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Message from '../components/Message';\nimport { getOrderDetails, payOrder } from '../actions/orderActions';\nimport Loader from '../components/Loader';\nimport { PayPalButton } from 'react-paypal-button-v2';\nimport { ORDER_PAY_RESET } from '../constants/orderConstants';\nimport { InlineShareButtons } from 'sharethis-reactjs';\nimport { PDFExport, savePDF } from '@progress/kendo-react-pdf';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction OrderScreen({\n  match\n}) {\n  _s();\n\n  const pdfExportCompornent = useRef(null);\n  const contentArea = useRef(null);\n\n  const handleExportWithComponent = event => {\n    pdfExportCompornent.current.save();\n  };\n\n  const handleExportWithMethod = event => {\n    savePDF(contentArea.current, {\n      paperSize: \"A4\"\n    });\n  };\n\n  const orderId = match.params.id;\n  const dispatch = useDispatch();\n  const [sdkReady, setSdkReady] = useState(false);\n  const orderDetails = useSelector(state => state.orderDetails);\n  const {\n    order,\n    error,\n    loading\n  } = orderDetails;\n  const orderPay = useSelector(state => state.orderPay);\n  const {\n    loading: loadingPay,\n    success: successPay\n  } = orderPay;\n\n  if (!loading && !error) {\n    order.itemsPrice = order.orderItems.reduce((acc, item) => acc + item.price * item.qty, 0).toFixed(2);\n  }\n\n  const properties = {\n    header: 'Acme'\n  };\n\n  const addPayPalScript = () => {\n    const script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = 'https://www.paypal.com/sdk/js?client-id=AfMme_xhIk14WIsgDuJXietSKeQyuv3Gb9XU2Mh9tgfwl-jy2KjSa-24bnzHpcxdNg7uL_Tb7apE2ox8';\n    script.async = true;\n\n    script.onload = () => {\n      setSdkReady(true);\n    };\n\n    document.body.appendChild(script);\n  };\n\n  useEffect(() => {\n    if (!order || successPay || order._id !== Number(orderId)) {\n      dispatch({\n        type: ORDER_PAY_RESET\n      });\n      dispatch(getOrderDetails(orderId));\n    } else if (!order.isPaid) {\n      if (!window.paypal) {\n        addPayPalScript();\n      } else {\n        setSdkReady(true);\n      }\n    }\n  }, [dispatch, order, orderId, successPay]);\n\n  const successPaymentHandler = paymentResult => {\n    dispatch(payOrder(orderId, paymentResult));\n  };\n\n  return loading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n    variant: \"danger\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(PDFExport, {\n      ref: pdfExportCompornent,\n      paperSize: \"A4\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 12,\n          children: /*#__PURE__*/_jsxDEV(ListGroup, {\n            variant: \"flush\",\n            children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                style: {\n                  marginTop: 20,\n                  textAlign: 'center'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"https://i2.wp.com/laksura.com.bd/wp-content/uploads/2021/06/main_logo.png?fit=487%2C180&ssl=1\",\n                  width: \"200\",\n                  height: \"80\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 28\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 28\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                style: {\n                  marginTop: 40,\n                  marginBottom: 20\n                },\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  md: 6,\n                  children: /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        style: {\n                          marginRight: 5\n                        },\n                        children: \"Name:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 105,\n                        columnNumber: 44\n                      }, this), \" \", /*#__PURE__*/_jsxDEV(\"h7\", {\n                        children: order.user.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 105,\n                        columnNumber: 91\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 105,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        style: {\n                          marginRight: 5\n                        },\n                        children: \"Address:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 106,\n                        columnNumber: 44\n                      }, this), \" \", /*#__PURE__*/_jsxDEV(\"h7\", {\n                        children: order.shippingAddress.address\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 106,\n                        columnNumber: 94\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 106,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        style: {\n                          marginRight: 5\n                        },\n                        children: \"Mobile:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 107,\n                        columnNumber: 44\n                      }, this), \" \", /*#__PURE__*/_jsxDEV(\"h7\", {\n                        children: order.shippingAddress.number\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 107,\n                        columnNumber: 93\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 107,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  md: 6,\n                  children: /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        style: {\n                          marginRight: 5\n                        },\n                        children: \"Invoice Number:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 112,\n                        columnNumber: 44\n                      }, this), \" \", /*#__PURE__*/_jsxDEV(\"h7\", {\n                        children: order._id\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 112,\n                        columnNumber: 101\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 112,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        style: {\n                          marginRight: 5\n                        },\n                        children: \"Order Number:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 113,\n                        columnNumber: 44\n                      }, this), \" \", /*#__PURE__*/_jsxDEV(\"h7\", {\n                        children: order._id\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 113,\n                        columnNumber: 99\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        style: {\n                          marginRight: 5\n                        },\n                        children: \"Order Date:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 114,\n                        columnNumber: 44\n                      }, this), \" \", /*#__PURE__*/_jsxDEV(\"h7\", {\n                        children: order.createdAt\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 114,\n                        columnNumber: 97\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 114,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  children: /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        style: {\n                          marginRight: 5\n                        },\n                        children: \" Payment Method: \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 122,\n                        columnNumber: 45\n                      }, this), order.paymentMethod]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 121,\n                      columnNumber: 41\n                    }, this), order.isPaid ? /*#__PURE__*/_jsxDEV(Message, {\n                      variant: \"success\",\n                      children: [\"Paid on \", order.paidAt]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 127,\n                      columnNumber: 45\n                    }, this) : /*#__PURE__*/_jsxDEV(Message, {\n                      variant: \"secondary\",\n                      children: \"Not Paid (Please Pay Soon)\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 129,\n                      columnNumber: 45\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 119,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                style: {\n                  textAlign: 'center'\n                },\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: \"Order Items\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 62\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 29\n              }, this), order.orderItems.length === 0 ? /*#__PURE__*/_jsxDEV(Message, {\n                variant: \"danger\",\n                children: \"You have no order.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 62\n              }, this) : /*#__PURE__*/_jsxDEV(ListGroup, {\n                variant: \"flush\",\n                children: order.orderItems.map((item, index) => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  children: /*#__PURE__*/_jsxDEV(Row, {\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: 1,\n                      children: /*#__PURE__*/_jsxDEV(Image, {\n                        src: item.image,\n                        alt: item.name,\n                        fluid: true,\n                        rounded: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 168,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 167,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/product/${item.product}`,\n                        children: item.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 172,\n                        columnNumber: 53\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 171,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: 4,\n                      children: [item.qty, \" X \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                        className: \"tk\",\n                        children: \"\\u09F3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 176,\n                        columnNumber: 66\n                      }, this), \" \", item.price, \" = \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                        className: \"tk\",\n                        children: \"\\u09F3\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 176,\n                        columnNumber: 115\n                      }, this), \" \", (item.qty * item.price).toFixed(2)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 175,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 45\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 41\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            children: /*#__PURE__*/_jsxDEV(ListGroup, {\n              variant: \"flush\",\n              children: [/*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                  style: {\n                    textAlign: 'center',\n                    marginTop: 10,\n                    marginBottom: 10\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: \"Order Summary\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 97\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  style: {\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Subtotal\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 200,\n                      columnNumber: 42\n                    }, this), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      className: \"tk\",\n                      children: \"\\u09F3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 202,\n                      columnNumber: 37\n                    }, this), \" \", order.itemsPrice]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  style: {\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Shipping\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 210,\n                      columnNumber: 42\n                    }, this), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      className: \"tk\",\n                      children: \"\\u09F3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 212,\n                      columnNumber: 37\n                    }, this), \" \", order.shippingPrice]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  style: {\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Tax \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 42\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 222,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      className: \"tk\",\n                      children: \"\\u09F3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 224,\n                      columnNumber: 37\n                    }, this), \" \", order.taxPrice]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  style: {\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Total \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 232,\n                      columnNumber: 42\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 232,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      className: \"tk\",\n                      children: \"\\u09F3\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 234,\n                      columnNumber: 37\n                    }, this), \" \", order.totalPrice]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 233,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  style: {\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Payment Status\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 241,\n                      columnNumber: 42\n                    }, this), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      style: {\n                        color: 'red'\n                      },\n                      children: order.status\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 243,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  style: {\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Order Status\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 250,\n                      columnNumber: 42\n                    }, this), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 250,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: order.orderStatus\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 252,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 251,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 29\n              }, this), !order.isPaid && order.isPaid && /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: [loadingPay && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 52\n                }, this), !sdkReady ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 261,\n                  columnNumber: 41\n                }, this) : /*#__PURE__*/_jsxDEV(PayPalButton, {\n                  amount: order.totalPrice,\n                  onSuccess: successPaymentHandler\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  style: {\n                    textAlign: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: \"Order Status\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 274,\n                      columnNumber: 42\n                    }, this), \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: order.orderStatus\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 37\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-area\",\n      style: {\n        textAlign: 'center',\n        marginTop: 80\n      },\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"success\",\n        primary: false,\n        onClick: handleExportWithComponent,\n        children: \"Download Invoice\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 33\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this);\n}\n\n_s(OrderScreen, \"N2ZajCb60ei8yUx4N55AgycZ0E0=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = OrderScreen;\nexport default OrderScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderScreen\");","map":{"version":3,"sources":["E:/Laksura_Project/frontend/src/screens/OrderScreen.js"],"names":["React","useState","useEffect","useRef","Button","Row","Col","ListGroup","Image","Card","useDispatch","useSelector","Link","Message","getOrderDetails","payOrder","Loader","PayPalButton","ORDER_PAY_RESET","InlineShareButtons","PDFExport","savePDF","OrderScreen","match","pdfExportCompornent","contentArea","handleExportWithComponent","event","current","save","handleExportWithMethod","paperSize","orderId","params","id","dispatch","sdkReady","setSdkReady","orderDetails","state","order","error","loading","orderPay","loadingPay","success","successPay","itemsPrice","orderItems","reduce","acc","item","price","qty","toFixed","properties","header","addPayPalScript","script","document","createElement","type","src","async","onload","body","appendChild","_id","Number","isPaid","window","paypal","successPaymentHandler","paymentResult","marginTop","textAlign","marginBottom","marginRight","user","name","shippingAddress","address","number","createdAt","paymentMethod","paidAt","length","map","index","image","product","shippingPrice","taxPrice","totalPrice","color","status","orderStatus"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from 'react'\r\nimport { Button, Row, Col, ListGroup, Image, Card } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport Message from '../components/Message'\r\nimport { getOrderDetails, payOrder } from '../actions/orderActions'\r\nimport Loader from '../components/Loader'\r\nimport { PayPalButton } from 'react-paypal-button-v2'\r\nimport { ORDER_PAY_RESET } from '../constants/orderConstants'\r\nimport {InlineShareButtons} from 'sharethis-reactjs'\r\n\r\nimport { PDFExport, savePDF } from '@progress/kendo-react-pdf'\r\n\r\n\r\nfunction OrderScreen({ match }) {\r\n\r\n    const pdfExportCompornent = useRef(null)\r\n    const contentArea = useRef(null)\r\n\r\n    const handleExportWithComponent = (event) => {\r\n        pdfExportCompornent.current.save()\r\n    }\r\n\r\n    const handleExportWithMethod = (event) => {\r\n        savePDF(contentArea.current, { paperSize: \"A4\" })\r\n    }\r\n\r\n    const orderId = match.params.id\r\n    const dispatch = useDispatch()\r\n\r\n    const [sdkReady, setSdkReady] = useState(false)\r\n\r\n\r\n    const orderDetails = useSelector(state => state.orderDetails)\r\n    const { order, error, loading } = orderDetails\r\n\r\n\r\n    const orderPay = useSelector(state => state.orderPay)\r\n    const { loading:loadingPay, success:successPay } = orderPay\r\n\r\n    if(!loading && !error){\r\n        order.itemsPrice = order.orderItems.reduce((acc, item) => acc + item.price * item.qty, 0).toFixed(2)\r\n    }\r\n\r\n  \r\n\r\n    const properties = { header: 'Acme' }\r\n    const addPayPalScript = () => {\r\n        const script = document.createElement('script')\r\n        script.type = 'text/javascript'\r\n        script.src = 'https://www.paypal.com/sdk/js?client-id=AfMme_xhIk14WIsgDuJXietSKeQyuv3Gb9XU2Mh9tgfwl-jy2KjSa-24bnzHpcxdNg7uL_Tb7apE2ox8'\r\n        script.async = true\r\n        script.onload = () => {\r\n            setSdkReady(true)\r\n        }\r\n        document.body.appendChild(script)\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if(!order || successPay || order._id !== Number(orderId)){\r\n            dispatch({type:ORDER_PAY_RESET})\r\n            dispatch(getOrderDetails(orderId))\r\n        }else if(!order.isPaid){\r\n            if (!window.paypal){\r\n                addPayPalScript()\r\n            }else{\r\n                setSdkReady(true)\r\n            }\r\n        }\r\n    }, [dispatch, order, orderId, successPay])\r\n\r\n    const successPaymentHandler = (paymentResult) => {\r\n        dispatch(payOrder(orderId, paymentResult))\r\n    }\r\n\r\n\r\n\r\n    return loading ? (\r\n        <Loader />\r\n    ) : error ? (\r\n        <Message variant='danger'>{error}</Message>\r\n    ) :  (\r\n       \r\n        \r\n        <div >\r\n        <PDFExport ref={pdfExportCompornent} paperSize=\"A4\">\r\n       \r\n            <Row>\r\n            \r\n                <Col md={12}>\r\n                    <ListGroup variant='flush'>\r\n                        <ListGroup.Item>\r\n                           <Col style={{marginTop:20, textAlign:'center'}}>\r\n                           <img src='https://i2.wp.com/laksura.com.bd/wp-content/uploads/2021/06/main_logo.png?fit=487%2C180&ssl=1'\r\n                            width=\"200\"\r\n                            height=\"80\"\r\n                            ></img>\r\n                        \r\n                            </Col>\r\n\r\n                            <Row style={{marginTop:40, marginBottom:20}}>\r\n                                <Col md={6} >\r\n                                    <ListGroup.Item>\r\n                                        <p><strong style={{marginRight:5}}>Name:</strong> <h7 >{ order.user.name}</h7></p>\r\n                                        <p><strong style={{marginRight:5}}>Address:</strong> <h7 >{ order.shippingAddress.address}</h7></p>\r\n                                        <p><strong style={{marginRight:5}}>Mobile:</strong> <h7 >{order.shippingAddress.number}</h7></p>\r\n                                    </ListGroup.Item>\r\n                                </Col>\r\n                                <Col md={6}>\r\n                                    <ListGroup.Item>\r\n                                        <p><strong style={{marginRight:5}}>Invoice Number:</strong> <h7 >{order._id}</h7></p>\r\n                                        <p><strong style={{marginRight:5}}>Order Number:</strong> <h7 >{order._id}</h7></p>\r\n                                        <p><strong style={{marginRight:5}}>Order Date:</strong> <h7 >{order.createdAt}</h7></p>\r\n                                    </ListGroup.Item>\r\n                                </Col>\r\n                            </Row>\r\n                            <Row>\r\n                                <Col>\r\n                                    <ListGroup.Item>\r\n                                        <p>\r\n                                            <strong style={{marginRight:5}}> Payment Method: </strong>\r\n                                            {order.paymentMethod}\r\n                                        </p>\r\n\r\n                                        {order.isPaid ? (\r\n                                            <Message variant='success'>Paid on {order.paidAt}</Message>\r\n                                        ) : (\r\n                                            <Message variant='secondary'>Not Paid (Please Pay Soon)</Message>\r\n                                        )}\r\n                                    </ListGroup.Item>\r\n                                </Col>\r\n                            </Row>\r\n                                             \r\n                            {/* <h3>Order Number: {order._id}</h3> */}\r\n                       \r\n                            \r\n                                {/* <strong>Shipping Address: </strong>\r\n                                {order.shippingAddress.address}, {order.shippingAddress.city},\r\n                                {'  '}\r\n                                {order.shippingAddress.postalCode},\r\n                                {'  '}\r\n                           */}\r\n                                \r\n                                \r\n                                \r\n\r\n                            {/* {order.isDelivered ? (\r\n                                <Message variant='success'>Delivered on {order.paidAt}</Message>\r\n                            ) : (\r\n                                <Message variant='secondary'>Your Product is not delivered</Message>\r\n                            )} */}\r\n\r\n                     \r\n                        </ListGroup.Item>\r\n\r\n                        <ListGroup.Item>\r\n                            <h5 style={{textAlign:'center'}}><b>Order Items</b></h5>\r\n                            <hr />\r\n                            {order.orderItems.length === 0 ? <Message variant='danger'>\r\n                                You have no order.\r\n                            </Message> : (\r\n                                <ListGroup variant='flush'>\r\n                                    {order.orderItems.map((item, index) => (\r\n                                        <ListGroup.Item key={index}>\r\n                                            <Row>\r\n                                                <Col md={1}>\r\n                                                    <Image src={item.image} alt={item.name} fluid rounded />\r\n                                                </Col>\r\n\r\n                                                <Col>\r\n                                                    <Link to={`/product/${item.product}`}>{item.name}</Link>\r\n                                                </Col>\r\n\r\n                                                <Col md={4}>\r\n                                                    {item.qty} X <strong className=\"tk\">৳</strong> {item.price} = <strong className=\"tk\">৳</strong> {(item.qty * item.price).toFixed(2)}\r\n                                                </Col>\r\n                                            </Row>\r\n                                        </ListGroup.Item>\r\n                                    ))}\r\n\r\n                                </ListGroup>\r\n                            )}\r\n                        </ListGroup.Item>\r\n\r\n                    </ListGroup>                   \r\n                </Col>\r\n               \r\n\r\n                <Col >\r\n                    <Card>\r\n                        <ListGroup variant='flush'>\r\n                            <ListGroup.Item>\r\n                                <h4 style={{textAlign:'center', marginTop:10, marginBottom:10}}><b>Order Summary</b></h4>\r\n                            </ListGroup.Item>\r\n\r\n\r\n                            <ListGroup.Item>\r\n                                <Row style={{textAlign:'center'}}>\r\n                                    <Col><b>Subtotal</b> </Col>\r\n                                    <Col>\r\n                                    <strong className=\"tk\">৳</strong> {order.itemsPrice}\r\n                                    </Col>\r\n                                </Row>\r\n                            </ListGroup.Item>\r\n\r\n\r\n                            <ListGroup.Item>\r\n                                <Row style={{textAlign:'center'}}>\r\n                                    <Col><b>Shipping</b> </Col>\r\n                                    <Col>\r\n                                    <strong className=\"tk\">৳</strong> {order.shippingPrice}\r\n                                    </Col>\r\n                                </Row>\r\n                            </ListGroup.Item>\r\n\r\n                            \r\n\r\n\r\n                            <ListGroup.Item>\r\n                                <Row style={{textAlign:'center'}}>\r\n                                    <Col><b>Tax </b></Col>\r\n                                    <Col>\r\n                                    <strong className=\"tk\">৳</strong> {order.taxPrice}\r\n                                    </Col>\r\n                                </Row>\r\n                            </ListGroup.Item>\r\n\r\n\r\n                            <ListGroup.Item>\r\n                                <Row style={{textAlign:'center'}}>\r\n                                    <Col><b>Total </b></Col>\r\n                                    <Col>\r\n                                    <strong className=\"tk\">৳</strong> {order.totalPrice}\r\n                                    </Col>\r\n                                </Row>\r\n                            </ListGroup.Item>\r\n\r\n                            <ListGroup.Item>\r\n                                <Row style={{textAlign:'center'}}>\r\n                                    <Col><b>Payment Status</b> </Col>\r\n                                    <Col>\r\n                                    <strong style={{color:'red'}}>{order.status}</strong> \r\n                                    </Col>\r\n                                </Row>\r\n                            </ListGroup.Item>\r\n\r\n                            <ListGroup.Item>\r\n                                <Row style={{textAlign:'center'}}>\r\n                                    <Col><b>Order Status</b> </Col>\r\n                                    <Col>\r\n                                    <strong >{order.orderStatus}</strong> \r\n                                    </Col>\r\n                                </Row>\r\n                            </ListGroup.Item>\r\n\r\n                            {!order.isPaid && order.isPaid && (\r\n                                <ListGroup.Item>\r\n                                    {loadingPay && <Loader/>}\r\n                                    {!sdkReady ? (\r\n                                        <Loader/>\r\n                                    ) : (\r\n                                        <PayPalButton\r\n                                            amount={order.totalPrice}\r\n                                            onSuccess={successPaymentHandler}\r\n                                        />\r\n                                    )}\r\n                                </ListGroup.Item>\r\n                            )}\r\n                            \r\n\r\n                            <ListGroup.Item>\r\n                                <Row style={{textAlign:'center'}}>\r\n                                    <Col><b>Order Status</b> </Col>\r\n                                    <Col>\r\n                                    <strong >{order.orderStatus}</strong> \r\n                                    </Col>\r\n                                </Row>\r\n                            </ListGroup.Item>\r\n                            \r\n                        </ListGroup>     \r\n                              \r\n                    </Card>\r\n                </Col>\r\n                \r\n            </Row>\r\n            </PDFExport>\r\n                 \r\n                                <div className='button-area' style={{textAlign:'center', marginTop:80}}>\r\n                                    <Button variant='success' primary={false} onClick={handleExportWithComponent}>Download Invoice</Button>\r\n                                </div>\r\n           \r\n           \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrderScreen\r\n"]},"metadata":{},"sourceType":"module"}