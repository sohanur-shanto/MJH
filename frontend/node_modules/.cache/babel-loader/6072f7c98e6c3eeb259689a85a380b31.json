{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Observable = require('rxjs/Observable');\n\nvar _lodash = require('lodash.throttle');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nrequire('rxjs/add/observable/fromEvent');\n\nrequire('rxjs/add/operator/do');\n\nrequire('rxjs/add/operator/mergeMap');\n\nrequire('rxjs/add/operator/map');\n\nrequire('rxjs/add/operator/takeUntil');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction eventPreventDefault(event) {\n  event.preventDefault();\n}\n\nfunction isTouch() {\n  return 'ontouchstart' in window || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0;\n}\n\nfunction hasTwoTouchPoints(event) {\n  if (isTouch()) {\n    return event.touches && event.touches.length === 2;\n  } else {\n    return event.altKey;\n  }\n}\n\nfunction isZoomed(scale) {\n  return scale > 1;\n}\n\nfunction between(min, max, val) {\n  return Math.min(max, Math.max(min, val));\n}\n\nfunction inverse(val) {\n  return val * -1;\n}\n\nfunction normalizeTouch(e) {\n  var p = isTouch() ? e.touches[0] : e;\n  return {\n    x: p.clientX,\n    y: p.clientY\n  };\n}\n\nvar ReactPinchZoomPan = function (_Component) {\n  _inherits(ReactPinchZoomPan, _Component);\n\n  function ReactPinchZoomPan(props) {\n    _classCallCheck(this, ReactPinchZoomPan);\n\n    var _this = _possibleConstructorReturn(this, (ReactPinchZoomPan.__proto__ || Object.getPrototypeOf(ReactPinchZoomPan)).call(this, props));\n\n    _this.state = {\n      obj: {\n        scale: props.initialScale,\n        x: 0,\n        y: 0\n      },\n      isPinching: false,\n      isPanning: false\n    };\n    _this.pinchTimeoutTimer = null;\n    return _this;\n  }\n\n  _createClass(ReactPinchZoomPan, [{\n    key: 'resize',\n    value: function resize() {\n      if (this.root) {\n        var domNode = this.root;\n        this.setState({\n          size: {\n            width: domNode.offsetWidth,\n            height: domNode.offsetHeight\n          }\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.pinchSubscription) {\n        this.pinchSubscription = null;\n      }\n\n      global.removeEventListener('resize', this.resizeThrottled);\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.handlePinch();\n      this.resize();\n      this.resizeThrottled = (0, _lodash2.default)(function () {\n        return _this2.resize();\n      }, 500);\n      global.addEventListener('resize', this.resizeThrottled);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.state.obj.scale !== nextProps.initialScale) {\n        var obj = _extends({}, this.state.obj, {\n          scale: nextProps.initialScale\n        });\n\n        this.setState({\n          obj: obj\n        });\n      }\n    }\n  }, {\n    key: 'handlePinch',\n    value: function handlePinch() {\n      var _this3 = this;\n\n      var domNode = this.root;\n\n      var touchStart = _Observable.Observable.fromEvent(domNode, isTouch() ? 'touchstart' : 'mousedown');\n\n      var touchMove = _Observable.Observable.fromEvent(window, isTouch() ? 'touchmove' : 'mousemove');\n\n      var touchEnd = _Observable.Observable.fromEvent(window, isTouch() ? 'touchend' : 'mouseup');\n\n      function translatePos(point, size) {\n        return {\n          x: point.x - size.width / 2,\n          y: point.y - size.height / 2\n        };\n      }\n\n      var startX = 0;\n      var startY = 0;\n      var pinch = touchStart.do(function (event) {\n        var scale = _this3.state.obj.scale; // record x,y when touch starts\n\n        startX = _this3.state.obj.x;\n        startY = _this3.state.obj.y; // allow page scrolling - ignore events unless they are beginning pinch or have previously pinch zoomed\n\n        if (hasTwoTouchPoints(event) || isZoomed(scale)) {\n          eventPreventDefault(event);\n        }\n      }).mergeMap(function (md) {\n        var startPoint = normalizeTouch(md);\n        var size = _this3.state.size;\n        return touchMove.map(function (mm) {\n          var _state$obj = _this3.state.obj,\n              scale = _state$obj.scale,\n              x = _state$obj.x,\n              y = _state$obj.y;\n          var maxScale = _this3.props.maxScale;\n          var movePoint = normalizeTouch(mm);\n\n          if (hasTwoTouchPoints(mm)) {\n            var scaleFactor = isTouch() && mm.scale ? mm.scale : movePoint.x < size.width / 2 ? scale + (translatePos(startPoint, size).x - translatePos(movePoint, size).x) / size.width : scale + (translatePos(movePoint, size).x - translatePos(startPoint, size).x) / size.width;\n            var nextScale = between(1, maxScale, scaleFactor);\n            return {\n              scale: nextScale,\n              x: nextScale < 1.01 ? 0 : x,\n              y: nextScale < 1.01 ? 0 : y\n            };\n          } else {\n            var scaleFactorX = (size.width * scale - size.width) / (scale * 2);\n            var scaleFactorY = (size.height * scale - size.height) / (scale * 2);\n            return {\n              x: between(inverse(scaleFactorX), scaleFactorX, movePoint.x - startPoint.x + startX),\n              y: between(inverse(scaleFactorY), scaleFactorY, movePoint.y - startPoint.y + startY)\n            };\n          }\n        }).takeUntil(touchEnd);\n      });\n      this.pinchSubscription = pinch.subscribe(function (newObject) {\n        if (_this3.state.obj.scale !== newObject.scale) {\n          _this3.refreshPinchTimeoutTimer();\n        }\n\n        global.requestAnimationFrame(function () {\n          _this3.setState({\n            obj: Object.assign({}, _this3.state.obj, newObject)\n          });\n        });\n      });\n    }\n  }, {\n    key: 'refreshPinchTimeoutTimer',\n    value: function refreshPinchTimeoutTimer() {\n      var _this4 = this;\n\n      if (this.pinchTimeoutTimer) {\n        clearTimeout(this.pinchTimeoutTimer);\n      }\n\n      if (!this.state.isPinching) {\n        this.pinchStarted();\n      }\n\n      this.pinchTimeoutTimer = setTimeout(function () {\n        return _this4.pinchStopped();\n      }, 500);\n    }\n  }, {\n    key: 'pinchStopped',\n    value: function pinchStopped() {\n      var _this5 = this;\n\n      this.setState({\n        isPinching: false\n      }, function () {\n        _this5.pinchTimeoutTimer = null;\n        _this5.props.onPinchStop && _this5.props.onPinchStop();\n      });\n    }\n  }, {\n    key: 'pinchStarted',\n    value: function pinchStarted() {\n      var _this6 = this;\n\n      this.setState({\n        isPinching: true\n      }, function () {\n        _this6.props.onPinchStart && _this6.props.onPinchStart();\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this7 = this;\n\n      var _state$obj2 = this.state.obj,\n          scale = _state$obj2.scale,\n          x = _state$obj2.x,\n          y = _state$obj2.y;\n      return _react2.default.createElement('div', {\n        ref: function ref(root) {\n          _this7.root = root;\n        }\n      }, this.props.render({\n        x: x.toFixed(2),\n        y: y.toFixed(2),\n        scale: scale.toFixed(2)\n      }));\n    }\n  }]);\n\n  return ReactPinchZoomPan;\n}(_react.Component);\n\nReactPinchZoomPan.defaultProps = {\n  initialScale: 1,\n  maxScale: 2\n};\nReactPinchZoomPan.propTypes = {\n  render: _propTypes2.default.func,\n  onPinchStart: _propTypes2.default.func,\n  onPinchStop: _propTypes2.default.func,\n  initialScale: _propTypes2.default.number,\n  maxScale: _propTypes2.default.number\n};\nvar _default = ReactPinchZoomPan;\nexports.default = _default;\n;\n\nvar _temp = function () {\n  if (typeof __REACT_HOT_LOADER__ === 'undefined') {\n    return;\n  }\n\n  __REACT_HOT_LOADER__.register(eventPreventDefault, 'eventPreventDefault', 'src/ReactPinchZoomPan.js');\n\n  __REACT_HOT_LOADER__.register(isTouch, 'isTouch', 'src/ReactPinchZoomPan.js');\n\n  __REACT_HOT_LOADER__.register(hasTwoTouchPoints, 'hasTwoTouchPoints', 'src/ReactPinchZoomPan.js');\n\n  __REACT_HOT_LOADER__.register(isZoomed, 'isZoomed', 'src/ReactPinchZoomPan.js');\n\n  __REACT_HOT_LOADER__.register(between, 'between', 'src/ReactPinchZoomPan.js');\n\n  __REACT_HOT_LOADER__.register(inverse, 'inverse', 'src/ReactPinchZoomPan.js');\n\n  __REACT_HOT_LOADER__.register(normalizeTouch, 'normalizeTouch', 'src/ReactPinchZoomPan.js');\n\n  __REACT_HOT_LOADER__.register(ReactPinchZoomPan, 'ReactPinchZoomPan', 'src/ReactPinchZoomPan.js');\n\n  __REACT_HOT_LOADER__.register(_default, 'default', 'src/ReactPinchZoomPan.js');\n}();\n\n;","map":{"version":3,"sources":["E:/Laksura_Project/frontend/node_modules/react-pinch-zoom-pan/lib/ReactPinchZoomPan.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_Observable","_lodash","_lodash2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","eventPreventDefault","event","preventDefault","isTouch","window","navigator","MaxTouchPoints","msMaxTouchPoints","hasTwoTouchPoints","touches","altKey","isZoomed","scale","between","min","max","val","Math","inverse","normalizeTouch","e","p","x","clientX","y","clientY","ReactPinchZoomPan","_Component","_this","getPrototypeOf","state","initialScale","isPinching","isPanning","pinchTimeoutTimer","resize","root","domNode","setState","size","width","offsetWidth","height","offsetHeight","componentWillUnmount","pinchSubscription","global","removeEventListener","resizeThrottled","componentDidMount","_this2","handlePinch","addEventListener","componentWillReceiveProps","nextProps","_this3","touchStart","Observable","fromEvent","touchMove","touchEnd","translatePos","point","startX","startY","pinch","do","mergeMap","md","startPoint","map","mm","_state$obj","maxScale","movePoint","scaleFactor","nextScale","scaleFactorX","scaleFactorY","takeUntil","subscribe","newObject","refreshPinchTimeoutTimer","requestAnimationFrame","_this4","clearTimeout","pinchStarted","setTimeout","pinchStopped","_this5","onPinchStop","_this6","onPinchStart","render","_this7","_state$obj2","createElement","ref","toFixed","Component","defaultProps","propTypes","func","number","_default","_temp","__REACT_HOT_LOADER__","register"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Observable = require('rxjs/Observable');\n\nvar _lodash = require('lodash.throttle');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nrequire('rxjs/add/observable/fromEvent');\n\nrequire('rxjs/add/operator/do');\n\nrequire('rxjs/add/operator/mergeMap');\n\nrequire('rxjs/add/operator/map');\n\nrequire('rxjs/add/operator/takeUntil');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction eventPreventDefault(event) {\n  event.preventDefault();\n}\n\nfunction isTouch() {\n  return 'ontouchstart' in window || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0;\n}\n\nfunction hasTwoTouchPoints(event) {\n  if (isTouch()) {\n    return event.touches && event.touches.length === 2;\n  } else {\n    return event.altKey;\n  }\n}\n\nfunction isZoomed(scale) {\n  return scale > 1;\n}\n\nfunction between(min, max, val) {\n  return Math.min(max, Math.max(min, val));\n}\n\nfunction inverse(val) {\n  return val * -1;\n}\n\nfunction normalizeTouch(e) {\n  var p = isTouch() ? e.touches[0] : e;\n  return {\n    x: p.clientX,\n    y: p.clientY\n  };\n}\n\nvar ReactPinchZoomPan = function (_Component) {\n  _inherits(ReactPinchZoomPan, _Component);\n\n  function ReactPinchZoomPan(props) {\n    _classCallCheck(this, ReactPinchZoomPan);\n\n    var _this = _possibleConstructorReturn(this, (ReactPinchZoomPan.__proto__ || Object.getPrototypeOf(ReactPinchZoomPan)).call(this, props));\n\n    _this.state = {\n      obj: {\n        scale: props.initialScale,\n        x: 0,\n        y: 0\n      },\n      isPinching: false,\n      isPanning: false\n    };\n    _this.pinchTimeoutTimer = null;\n    return _this;\n  }\n\n  _createClass(ReactPinchZoomPan, [{\n    key: 'resize',\n    value: function resize() {\n      if (this.root) {\n        var domNode = this.root;\n        this.setState({\n          size: {\n            width: domNode.offsetWidth,\n            height: domNode.offsetHeight\n          }\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.pinchSubscription) {\n        this.pinchSubscription = null;\n      }\n      global.removeEventListener('resize', this.resizeThrottled);\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.handlePinch();\n      this.resize();\n      this.resizeThrottled = (0, _lodash2.default)(function () {\n        return _this2.resize();\n      }, 500);\n      global.addEventListener('resize', this.resizeThrottled);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.state.obj.scale !== nextProps.initialScale) {\n        var obj = _extends({}, this.state.obj, { scale: nextProps.initialScale });\n        this.setState({ obj: obj });\n      }\n    }\n  }, {\n    key: 'handlePinch',\n    value: function handlePinch() {\n      var _this3 = this;\n\n      var domNode = this.root;\n      var touchStart = _Observable.Observable.fromEvent(domNode, isTouch() ? 'touchstart' : 'mousedown');\n      var touchMove = _Observable.Observable.fromEvent(window, isTouch() ? 'touchmove' : 'mousemove');\n      var touchEnd = _Observable.Observable.fromEvent(window, isTouch() ? 'touchend' : 'mouseup');\n\n      function translatePos(point, size) {\n        return {\n          x: point.x - size.width / 2,\n          y: point.y - size.height / 2\n        };\n      }\n\n      var startX = 0;\n      var startY = 0;\n\n      var pinch = touchStart.do(function (event) {\n        var scale = _this3.state.obj.scale;\n        // record x,y when touch starts\n\n        startX = _this3.state.obj.x;\n        startY = _this3.state.obj.y;\n\n        // allow page scrolling - ignore events unless they are beginning pinch or have previously pinch zoomed\n        if (hasTwoTouchPoints(event) || isZoomed(scale)) {\n          eventPreventDefault(event);\n        }\n      }).mergeMap(function (md) {\n        var startPoint = normalizeTouch(md);\n        var size = _this3.state.size;\n\n\n        return touchMove.map(function (mm) {\n          var _state$obj = _this3.state.obj,\n              scale = _state$obj.scale,\n              x = _state$obj.x,\n              y = _state$obj.y;\n          var maxScale = _this3.props.maxScale;\n\n          var movePoint = normalizeTouch(mm);\n\n          if (hasTwoTouchPoints(mm)) {\n            var scaleFactor = isTouch() && mm.scale ? mm.scale : movePoint.x < size.width / 2 ? scale + (translatePos(startPoint, size).x - translatePos(movePoint, size).x) / size.width : scale + (translatePos(movePoint, size).x - translatePos(startPoint, size).x) / size.width;\n            var nextScale = between(1, maxScale, scaleFactor);\n            return {\n              scale: nextScale,\n              x: nextScale < 1.01 ? 0 : x,\n              y: nextScale < 1.01 ? 0 : y\n            };\n          } else {\n            var scaleFactorX = (size.width * scale - size.width) / (scale * 2);\n            var scaleFactorY = (size.height * scale - size.height) / (scale * 2);\n            return {\n              x: between(inverse(scaleFactorX), scaleFactorX, movePoint.x - startPoint.x + startX),\n              y: between(inverse(scaleFactorY), scaleFactorY, movePoint.y - startPoint.y + startY)\n            };\n          }\n        }).takeUntil(touchEnd);\n      });\n\n      this.pinchSubscription = pinch.subscribe(function (newObject) {\n        if (_this3.state.obj.scale !== newObject.scale) {\n          _this3.refreshPinchTimeoutTimer();\n        }\n        global.requestAnimationFrame(function () {\n          _this3.setState({\n            obj: Object.assign({}, _this3.state.obj, newObject)\n          });\n        });\n      });\n    }\n  }, {\n    key: 'refreshPinchTimeoutTimer',\n    value: function refreshPinchTimeoutTimer() {\n      var _this4 = this;\n\n      if (this.pinchTimeoutTimer) {\n        clearTimeout(this.pinchTimeoutTimer);\n      }\n\n      if (!this.state.isPinching) {\n        this.pinchStarted();\n      }\n\n      this.pinchTimeoutTimer = setTimeout(function () {\n        return _this4.pinchStopped();\n      }, 500);\n    }\n  }, {\n    key: 'pinchStopped',\n    value: function pinchStopped() {\n      var _this5 = this;\n\n      this.setState({\n        isPinching: false\n      }, function () {\n        _this5.pinchTimeoutTimer = null;\n        _this5.props.onPinchStop && _this5.props.onPinchStop();\n      });\n    }\n  }, {\n    key: 'pinchStarted',\n    value: function pinchStarted() {\n      var _this6 = this;\n\n      this.setState({\n        isPinching: true\n      }, function () {\n        _this6.props.onPinchStart && _this6.props.onPinchStart();\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this7 = this;\n\n      var _state$obj2 = this.state.obj,\n          scale = _state$obj2.scale,\n          x = _state$obj2.x,\n          y = _state$obj2.y;\n\n      return _react2.default.createElement(\n        'div',\n        { ref: function ref(root) {\n            _this7.root = root;\n          } },\n        this.props.render({\n          x: x.toFixed(2),\n          y: y.toFixed(2),\n          scale: scale.toFixed(2)\n        })\n      );\n    }\n  }]);\n\n  return ReactPinchZoomPan;\n}(_react.Component);\n\nReactPinchZoomPan.defaultProps = {\n  initialScale: 1,\n  maxScale: 2\n};\n\nReactPinchZoomPan.propTypes = {\n  render: _propTypes2.default.func,\n  onPinchStart: _propTypes2.default.func,\n  onPinchStop: _propTypes2.default.func,\n  initialScale: _propTypes2.default.number,\n  maxScale: _propTypes2.default.number\n};\n\nvar _default = ReactPinchZoomPan;\nexports.default = _default;\n;\n\nvar _temp = function () {\n  if (typeof __REACT_HOT_LOADER__ === 'undefined') {\n    return;\n  }\n\n  __REACT_HOT_LOADER__.register(eventPreventDefault, 'eventPreventDefault', 'src/ReactPinchZoomPan.js');\n\n  __REACT_HOT_LOADER__.register(isTouch, 'isTouch', 'src/ReactPinchZoomPan.js');\n\n  __REACT_HOT_LOADER__.register(hasTwoTouchPoints, 'hasTwoTouchPoints', 'src/ReactPinchZoomPan.js');\n\n  __REACT_HOT_LOADER__.register(isZoomed, 'isZoomed', 'src/ReactPinchZoomPan.js');\n\n  __REACT_HOT_LOADER__.register(between, 'between', 'src/ReactPinchZoomPan.js');\n\n  __REACT_HOT_LOADER__.register(inverse, 'inverse', 'src/ReactPinchZoomPan.js');\n\n  __REACT_HOT_LOADER__.register(normalizeTouch, 'normalizeTouch', 'src/ReactPinchZoomPan.js');\n\n  __REACT_HOT_LOADER__.register(ReactPinchZoomPan, 'ReactPinchZoomPan', 'src/ReactPinchZoomPan.js');\n\n  __REACT_HOT_LOADER__.register(_default, 'default', 'src/ReactPinchZoomPan.js');\n}();\n\n;"]},"metadata":{},"sourceType":"script"}