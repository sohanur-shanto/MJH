"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("@react-pdf-viewer/attachment"),n=require("@react-pdf-viewer/bookmark"),a=require("@react-pdf-viewer/core"),r=require("@react-pdf-viewer/thumbnail"),o=require("@react-pdf-viewer/toolbar");function l(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var c=l(e),u=l(t),i=function(){return(i=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},s=function(){return c.createElement(a.Icon,{size:16},c.createElement("path",{d:"M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3\n            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5\n            c0.552,0,1,0.448,1,1L11.5,10.5z\n            M14.5,6.499h6\n            M14.5,10.499h6\n            M3.5,14.499h17\n            M3.5,18.499h16.497"}))},d=function(){return c.createElement(a.Icon,{size:16},c.createElement("path",{d:"M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883\n            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0\n            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9"}))},f=function(){return c.createElement(a.Icon,{size:16},c.createElement("path",{d:"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\n            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z"}))},b={left:8,top:0},m=function(e){var t=e.attachmentTabContent,n=e.bookmarkTabContent,r=e.store,o=e.thumbnailTabContent,l=e.tabs,u=c.useContext(a.LocalizationContext).l10n,i=c.useState(!1),m=i[0],h=i[1],v=c.useState(r.get("currentTab")||0),p=v[0],y=v[1],_=[{content:o,icon:c.createElement(f,null),title:u&&u.defaultLayout?u.defaultLayout.thumbnail:"Thumbnail"},{content:n,icon:c.createElement(s,null),title:u&&u.defaultLayout?u.defaultLayout.bookmark:"Bookmark"},{content:t,icon:c.createElement(d,null),title:u&&u.defaultLayout?u.defaultLayout.attachment:"Attachment"}],E=l?l(_):_,L=function(e){h(!0),y(e)};return c.useEffect((function(){return r.subscribe("currentTab",L),function(){r.unsubscribe("currentTab",L)}}),[]),c.createElement("div",{className:"rpv-default-layout__sidebar "+(m?"rpv-default-layout__sidebar--opened":"")},c.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},c.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},E.map((function(e,t){return c.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":p===t,key:t,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-"+t,role:"tab"},c.createElement(a.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-"+t,position:a.Position.RightCenter,target:c.createElement(a.MinimalButton,{ariaLabel:e.title,isSelected:p===t,onClick:function(){return function(e){p===e?h((function(e){return!e})):L(e)}(t)}},e.icon),content:function(){return e.title},offset:b}))}))),c.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-"+p,id:"rpv-default-layout__sidebar-content",className:"rpv-default-layout__sidebar-content "+(m?"rpv-default-layout__sidebar-content--opened":""),role:"tabpanel",tabIndex:-1},E[p].content)))};exports.BookmarkIcon=s,exports.FileIcon=d,exports.ThumbnailIcon=f,exports.defaultLayoutPlugin=function(e){var t=c.useMemo((function(){return a.createStore({currentTab:0})}),[]),l=u.attachmentPlugin(),s=n.bookmarkPlugin(),d=r.thumbnailPlugin(),f=o.toolbarPlugin(e?e.toolbarPlugin:{}),b=l.Attachments,h=s.Bookmarks,v=d.Thumbnails,p=f.Toolbar,y=e?e.sidebarTabs:function(e){return e},_=[l,s,d,f];return{attachmentPluginInstance:l,bookmarkPluginInstance:s,thumbnailPluginInstance:d,toolbarPluginInstance:f,activateTab:function(e){t.update("currentTab",e)},install:function(e){_.forEach((function(t){t.install&&t.install(e)}))},renderViewer:function(n){var a=n.slot;_.forEach((function(e){e.renderViewer&&(a=e.renderViewer(i(i({},n),{slot:a})))}));var r=a.subSlot&&a.subSlot.attrs?{ref:a.subSlot.attrs.ref,style:a.subSlot.attrs.style}:{};return a.children=c.createElement("div",{className:"rpv-default-layout__container"},c.createElement("div",{className:"rpv-default-layout__toolbar"},e&&e.renderToolbar?e.renderToolbar(p):c.createElement(p,null)),c.createElement("div",{className:"rpv-default-layout__main"},c.createElement(m,{attachmentTabContent:c.createElement(b,null),bookmarkTabContent:c.createElement(h,null),store:t,thumbnailTabContent:c.createElement(v,null),tabs:y}),c.createElement("div",i({className:"rpv-default-layout__body","data-testid":"default-layout__body"},r),a.subSlot.children)),a.children),a.subSlot.attrs={},a.subSlot.children=c.createElement(c.Fragment,null),a},uninstall:function(e){_.forEach((function(t){t.uninstall&&t.uninstall(e)}))},onDocumentLoad:function(e){_.forEach((function(t){t.onDocumentLoad&&t.onDocumentLoad(e)}))},onAnnotationLayerRender:function(e){_.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender(e)}))},onTextLayerRender:function(e){_.forEach((function(t){t.onTextLayerRender&&t.onTextLayerRender(e)}))},onViewerStateChange:function(e){var t=e;return _.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),t}}};
